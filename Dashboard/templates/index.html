<!DOCTYPE html>
<html lang="en">

<head profile="http://www.w3.org/2005/10/profile">
<link rel="icon" type="image/png" href="static/images/logo_placeholder.jpg">  
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

  <title>Flightprints</title>

  <!-- Bootstrap core CSS -->
  <link href="{{url_for('static',filename='vendor/bootstrap/css/bootstrap.min.css')}}" rel="stylesheet">

  <!-- Custom styles for this template -->
  <link href="{{url_for('static',filename='css/new_css.css')}}" rel="stylesheet">

</head>

<body id="page-top">

  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top" id="mainNav">
    <div class="container">
      <a class="navbar-brand js-scroll-trigger" href="#page-top"></a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="#search">Search</a>
          </li>
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="#results">Results</a>
          </li>
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="#info">More Information</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

<!-- Header section -->

  <header id="intro" class="text-white bg-success" style="background-image: url(static/images/sky.jpg); background-size: cover;">
    <div class="container text-center">
        <h1><b>Welcome to Flightprints</b></h1>
        <p class="lead"><b>A responsible trip planner</b></p>
        <br>
        <br id="search">
        <h3>Where to?</h3><br>

<!-- Search Section-->
  <form action="http://127.0.0.1:5000/scrape" method="POST">
    <div class = "row" >
      <div class = "col-4">
        <div class="input-group mb-3">
          <div class="input-group-prepend">
            <span class="input-group-text" id="inputGroup-sizing-default">From</span>
          </div>
          <input type="text" class="form-control ORIGIN" name = "origin" aria-label="Default" aria-describedby="inputGroup-sizing-default">
        </div>
      </div>
      <div class = "col-4">
        <div class="input-group mb-3">
          <div class="input-group-append">
            <span class="input-group-text" id="inputGroup-sizing-default">To</span>
          </div>
          <input type="text" class="form-control DESTINATION" name = "destination" aria-label="Default" aria-describedby="inputGroup-sizing-default">
        </div>
      </div>
      <div class = "col-4">
        <div class="input-group mb-3">
          <div class="input-group-append">
            <span class="input-group-text" id="inputGroup-sizing-default">Date</span>
          </div>
          <input type="date" class="form-control DATE" name = "date" aria-label="Default" aria-describedby="inputGroup-sizing-default">
      </div>
      </div>
    </div>
    <div class = row>
      <div class = "col-12">
        <button type="submit" class="btn btn-dark" id="SCRAPE">Go!</button>
      </div>
    </div>
  </form>
  </header>

  <!-- Results Section -->
  {% if info is defined %}
  <section id="results" >
    <div class="container">
      <div class="row">
        <div class="col-lg-12 mx-auto" id="results-here">


<!-- Results will generate here -->
        <!-- 1 -->
        {% for i in range(info.depart_airport| length) %}
        <div class="card">
          <div class="card-body">
            <h3 class="card-title">{{ info.depart_airport[i]}} {{ info.depart_time[i] }} - 
              {{ info.arrive_airport[i] }} {{ info.arrive_time[i] }}
              
              </h3>
              
            <p class="card-text">
              <script type="text/javascript">
                var roundedScore = Math.floor({{ score.score[i] }});
                var htmlstr = `<span style="font-size:100%;color:teal;"><i class="fa fa-star"></i></span>`;
                var value = htmlstr.repeat(roundedScore);
                if ({{ score.score[i] }} - roundedScore > .3) {
                  value = value.concat(`<span style="font-size:100%;color:teal;"><i class="fa fa-star-half"></i></span>`);
                }
                console.log(roundedScore);
                document.write(value);
              
              </script>
              <div class = "row">
                <div class = "col-2">
                  <img src="static/images/logo_placeholder.jpg" alt="logo" class="img-thumbnail">
                </div>
                <div class = "col-6">
                  <ul class="list-group list-group-flush">
                    <li class="list-group-item">Airline: {{ info.airline[i] }}</li>
                    <li class="list-group-item">Plane: {{ info.model[i] }}</li>
                    <li class="list-group-item">Flight Time: {{ info.duration[i] }}</li>
                  </ul>
                </div>
                <div class = "col-4">
                  <ul class="list-group list-group-flush">
                    <li class="list-group-item"><b>Ticket Price: {{ info.price[i] }}</b></li>
                    <li class="list-group-item">CO2/Seat: {{ score.offset[i] }}lbs</li>
                    <li class="list-group-item">Eco-Score: {{ score.score[i] }}/10</li>
            
                  </ul>
                </div>
              </div>
            </p>
            <a href="" class="btn btn-success">Purchase a ticket</a>
            <a href="https://www.terrapass.com/product/productindividuals-families?weight_needed={{ score.paid_offset[i] }}" class="btn btn-success">Offset your carbon</a>
            <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#collapseMap" aria-expanded="false" aria-controls="collapseMap">
              See transit options
            </button>                  
            </p>
            <div class="collapse" id="collapseMap">
              <div class="card card-body">
                <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3222.6527430020606!2d-86.67955998549627!3d36.126316980092945!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x88646eab541f3d59%3A0xaaf78a5d943ea27b!2s{{ info.depart_airport[i] }}!5e0!3m2!1sen!2sus!4v1580855090339!5m2!1sen!2sus" 
                width="930" height="350" frameborder="0" style="border:0;" allowfullscreen=""></iframe>
            </div>
          </div>
          </div>
          <br>
          <br>
          {% endfor %}
          
      </div>
    </div>
  </div>
</div>
  </section>
{% else %}
<section id="test" >
<span style="font-size:300%;color:lightskyblue;"><i class="fa fa-star-half"></i></span>
<span style="font-size:300%;color:lightskyblue;"><i class="fa fa-star"></i></span>
<div>
<div class="stars-outer">
  <div class="stars-inner" onload="rating(8.4)"><script>rating(8.4);</script></div>
</div></div>

</section>
{% endif %}
<!-- Site info & Tableau charts -->
  <section id="info" class="bg-dark text-white">
    <div class="container">
      <div class="row">
        <div class="col-12 mx-auto">
          <h2>How it works:</h2>
          <p class="lead">
            <div id="carouselExampleControls" class="carousel slide carousel-fade" data-ride="carousel">
              <div class="carousel-inner">
                <div class="carousel-item active">
                  <img src="{{ url_for('.static', filename='images/pic4.jpg') }}" class="d-block w-100" alt="slide 1">
                  <div class="carousel-caption d-none d-md-block">
                    <h5>Search for a flight</h5>
                    <p>The search engine returns the latest ticket prices and iteneraries</p>
                  </div>
                </div>
                <div class="carousel-item">
                  <img src="{{ url_for('.static', filename='images/pic5.jpg') }}" class="d-block w-100" alt="slide 2">
                  <div class="carousel-caption d-none d-md-block">
                    <h5>Learn your score</h5>
                    <p>Our machine-learning algorithm generates a 1-5 star rating of each flight's emissions levels</p>
                  </div>
                </div>
                <div class="carousel-item">
                  <img src="{{ url_for('.static', filename='images/pic6.jpg') }}" class="d-block w-100" alt="slide 3">
                  <div class="carousel-caption d-none d-md-block">
                    <h5>Save the planet!</h5>
                    <p>... or pay to offset the carbon emissions from your flight</p>
                  </div>
                </div>
              </div>
              <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
              </a>
              <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
              </a>
            </div>
          </p>
        </div>
      </div><br>
      <div class="row">
        <div class="col-4">
          <img src="{{ url_for('.static', filename='images/pic3.jpg') }}" class="img-fluid" alt="...">
        </div>
        <div class="col-4">
          <img src="{{ url_for('.static', filename='images/pic2.jpg') }}" class="img-fluid" alt="...">
        </div>
        <div class="col-4">
          <img src="{{ url_for('.static', filename='images/pic1.jpg') }}" class="img-fluid" alt="...">
        </div>
      </div><br>
      <div class="row">
        <div class="col-4">
          <p>In 2018, 87% of global travelers reported wanting to travel sustainably.
            <br><br>
            56% said that given an option to offset their carbon footprint while traveling, they would take it.
        </div>
        <div class="col-4">
          <p>While there is increasing awareness and availability for sustianable accommodation, sustainable travel options lag behind.
            <br><br>
            71% of consumers think that travel companies should offer sustainable options. 
          </p>
        </div>
        <div class="col-4">
          <p>The global online travel market was valued at $570.25 billion in 2017.
            By 2023, it could be valued at up to $1,134.55 billion.
            <br><br>
            By offering sustainable options, an environmentally responsible company
            could stand to gain a much greater market share.
          </p>
        </div>
      </div><br>
      <hr>

  <!-- Statistics (charts & graphs) -->
      <div class="row">
        <h2>Statistics:</h2>
      </div>
      <div class="row">
        <div class = "col-12" id="graph1">
        </div>
      </div>
      <div class="row">
        <div class = "col-12">
          <p>Different models of commuter aircraft have different levels of emissions.<br>
            Use the drop-down to see models used for short-range, medium-range, and long-range flights.
          </p>
        </div>
      </div>
      <div class="row">
        <div class = "col-6" id="graph2">
        </div>
        <div class = "col-6" id="graph3">
        </div>
      </div><br><hr>
      
  <!-- Sources -->
      <div class = "row">
        <h2>Sources:</h2>
      </div><br>
      <div class = "row">
        <div class = "col-6">
          <ul>
            <li><a target = "_blank" href="https://ttra.com/wp-content/uploads/2018/11/Ecotourism-Outlook-2018.pdf" class = "link">TTRA Ecotourism Outlook 2018</a></li>
            <li><a target = "_blank" href="https://globalnews.booking.com/bookingcom-reveals-key-findings-from-its-2019-sustainable-travel-report/" class = "link">Booking.com - 2019 Sustainable Travel Report</a></li>
            <li><a target = "_blank" href="https://en.wikipedia.org/wiki/Fuel_economy_in_aircraft#Example_values" class = "link">Wikipedia - Fuel Economy in Aircraft</a></li>
            <li><a target = "_blank" href="https://www.myclimate.org/fileadmin/user_upload/myclimate_-_home/01_Information/01_About_myclimate/09_Calculation_principles/Documents/myclimate-flight-calculator-documentation_EN.pdf" class = "link">Myclimate.org - Flight Calculator Documentation</a></li>
            <li><a target = "_blank" href="https://www.marketwatch.com/press-release/online-travel-market-2019---2023-business-trends-segments-size-share-industry-profit-growth-regional-study-and-emerging-technologies---17-sep-2019-2019-09-17" class = "link">Market Watch - Global Travel Market</a></li>
          </ul>
        </div>
        <div class = "col-6">
          <ul>
            <li><a target = "_blank" href="https://www.terrapass.com/product/productindividuals-families" class = "link">Terrapass - Offset Emissions</a></li>
            <li><a target = "_blank" href="https://blueskymodel.org/air-mile" class = "link">BlueSkyModel - Calculate Emissions by Fuel Efficiency</a></li>
            <li><a target = "_blank" href="https://ww3.arb.ca.gov/cc/capandtrade/capandtrade.htm" class = "link">Cap & Trade - California Air Resources Board</a></li>
            <li><a target = "_blank" href="https://americancarbonregistry.org/" class = "link">American Carbon Registry</a></li>
            <li><a target = "_blank" href="https://verra.org/" class = "link">Verra.org</a></li>
          </ul>
        </div>
      </div>



    </div>
  </section>

  <!-- Footer -->
  <footer class="py-5 bg-dark">
    <div class="container">
      <p class="m-0 text-center text-white">Created by Greg Wathen, Rachel-Chloe Gregory, and Emily Goldner</p>
    </div>
  <!-- /.container -->
  </footer>

  <!-- Bootstrap core JavaScript -->
  <script type="text/javascript" src="{{ url_for('.static', filename='vendor/jquery/jquery.min.js') }}"></script>
  <script type="text/javascript" src="{{ url_for('.static', filename='vendor/bootstrap/js/bootstrap.bundle.min.js') }}"></script>

  <!-- Plugin JavaScript -->
  <script type="text/javascript" src="{{ url_for('.static', filename='vendor/jquery-easing/jquery.easing.min.js') }}"></script>

  <!-- Custom JavaScript for this theme -->
  <script type="text/javascript" src="{{ url_for('.static', filename='js/scrolling-nav.js') }}"></script>

  <!-- Javascript for graphs & charts-->
  <script src= 'https://d3js.org/d3.v5.min.js'></script>
  <script src= 'https://cdnjs.cloudflare.com/ajax/libs/d3-tip/0.7.1/d3-tip.min.js'></script>
  <script type="text/javascript" src="{{ url_for('.static', filename='js/app.js') }}"></script>

  <!-- Icon library for star rating system-->
  <link rel="stylesheet" href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css'>

</body>

</html>